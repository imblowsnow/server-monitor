import{_ as f,u as p,i as b,j as v,o as l,c as n,a as e,k as a,v as i,l as m,F as c,m as u,t as _}from"./index-CzXUiAx5.js";const g={name:"setting",data(){return{settingStore:p(),form:{site_name:"",frontend_template:"default",backend_template:"default",admin_username:"",admin_password:""},frontendTemplates:[{value:"default",label:"默认"}],backendTemplates:[{value:"default",label:"默认"}]}},mounted(){this.getSetting()},methods:{save(){b(this.form).then(()=>{this.$message({type:"success",message:"保存成功!"}),this.settingStore.updateSetting(this.form)}).catch(r=>{this.$message({type:"error",message:"保存失败!"+r})})},getSetting(){v().then(r=>{this.form=r})}}},h=e("h1",{class:"mb-3"},"系统设置",-1),S={class:"shadow-box big-padding"},k={class:"row"},w={class:"col-md-6"},y={class:"mb-3"},x=e("label",{class:"form-label"},"站点名称",-1),V={class:"mb-3"},T=e("label",{class:"form-label"},"管理员账号",-1),U={class:"mb-3"},q=e("label",{class:"form-label"},"管理员密码",-1),B={class:"col-md-6"},D={class:"mb-3"},F=e("label",{class:"form-label"},"首页模版",-1),M=["value"],j={class:"mb-3"},C=e("label",{class:"form-label"},"后台模版",-1),E=["value"],L={class:"row"};function N(r,t,z,A,o,d){return l(),n("div",null,[h,e("div",S,[e("form",null,[e("div",k,[e("div",w,[e("div",y,[x,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>o.form.site_name=s),required:""},null,512),[[i,o.form.site_name]])]),e("div",V,[T,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>o.form.admin_username=s),required:""},null,512),[[i,o.form.admin_username]])]),e("div",U,[q,a(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>o.form.admin_password=s),required:""},null,512),[[i,o.form.admin_password]])])]),e("div",B,[e("div",D,[F,a(e("select",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.frontend_template=s)},[(l(!0),n(c,null,u(o.frontendTemplates,s=>(l(),n("option",{value:s.value},_(s.label),9,M))),256))],512),[[m,o.form.frontend_template]])]),e("div",j,[C,a(e("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>o.form.backend_template=s)},[(l(!0),n(c,null,u(o.frontendTemplates,s=>(l(),n("option",{value:s.value},_(s.label),9,E))),256))],512),[[m,o.form.backend_template]])])])]),e("div",L,[e("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=(...s)=>d.save&&d.save(...s))},"保存")])])])])}const H=f(g,[["render",N]]);export{H as default};
