import{_ as p,u as f,i as b,j as v,o as n,c as r,a as e,k as l,v as i,l as d,F as u,m as _,t as c}from"./index-Drs-in-b.js";const g={name:"setting",data(){return{settingStore:f(),form:{site_name:"",frontend_template:"default",backend_template:"default",admin_username:"",admin_password:"",server_ip:"",server_port:""},frontendTemplates:[{value:"default",label:"默认"}],backendTemplates:[{value:"default",label:"默认"}]}},mounted(){this.getSetting()},methods:{save(){b(this.form).then(()=>{this.$message({type:"success",message:"保存成功!"}),this.settingStore.updateSetting(this.form)}).catch(a=>{this.$message({type:"error",message:"保存失败!"+a})})},getSetting(){v().then(a=>{this.form=a})}}},h=e("h1",{class:"mb-3"},"系统设置",-1),S={class:"shadow-box big-padding"},y={class:"row"},k={class:"col-md-6"},w={class:"mb-3"},x=e("label",{class:"form-label"},"站点名称",-1),V={class:"mb-3"},U=e("label",{class:"form-label"},"管理员账号",-1),T={class:"mb-3"},q=e("label",{class:"form-label"},"管理员密码",-1),B={class:"mb-3"},D=e("label",{class:"form-label"},"服务器IP",-1),F={class:"col-md-6"},M={class:"mb-3"},j=e("label",{class:"form-label"},"首页模版",-1),C=["value"],E={class:"mb-3"},I=e("label",{class:"form-label"},"后台模版",-1),L=["value"],N={class:"row"};function P(a,t,z,A,o,m){return n(),r("div",null,[h,e("div",S,[e("form",null,[e("div",y,[e("div",k,[e("div",w,[x,l(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>o.form.site_name=s),required:""},null,512),[[i,o.form.site_name]])]),e("div",V,[U,l(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>o.form.admin_username=s),required:""},null,512),[[i,o.form.admin_username]])]),e("div",T,[q,l(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>o.form.admin_password=s),required:""},null,512),[[i,o.form.admin_password]])]),e("div",B,[D,l(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.server_ip=s),required:""},null,512),[[i,o.form.server_ip]])])]),e("div",F,[e("div",M,[j,l(e("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>o.form.frontend_template=s)},[(n(!0),r(u,null,_(o.frontendTemplates,s=>(n(),r("option",{value:s.value},c(s.label),9,C))),256))],512),[[d,o.form.frontend_template]])]),e("div",E,[I,l(e("select",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>o.form.backend_template=s)},[(n(!0),r(u,null,_(o.frontendTemplates,s=>(n(),r("option",{value:s.value},c(s.label),9,L))),256))],512),[[d,o.form.backend_template]])])])]),e("div",N,[e("button",{type:"button",class:"btn btn-primary",onClick:t[6]||(t[6]=(...s)=>m.save&&m.save(...s))},"保存")])])])])}const H=p(g,[["render",P]]);export{H as default};
